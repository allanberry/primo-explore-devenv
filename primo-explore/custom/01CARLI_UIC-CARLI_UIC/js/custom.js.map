{"version":3,"sources":["node_modules/browser-pack/_prelude.js","primo-explore/custom/01CARLI_UIC-CARLI_UIC/js/main.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","chatID","chat_element","protocol","chat_script","document","getElementById","removeTargetAttrs","menulinks","querySelectorAll","forEach","link","removeAttribute","attr","match","getAttribute","setAttribute","replace","MutationObserver","mutations","me","observe","attributes","childList","subtree","createElement","location","body","appendChild","querySelector","css1","type","rel","href","crossorigin","css2","w","async","src","new_card","placeCard","existing_card","window","parentElement","append","className","innerHTML","observer","disconnect","loc","setInterval"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,GAAA,CAAAS,QAAA,IAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAa,EAAA,CAAA,SAAAT,EAAAU,EAAAJ,gBCwCA,IAEQK,EACAC,EACAC,EACAC,GAzCR,WAEqBC,SAASC,eAAe,WAE3C,SAASC,IACP,IAAMC,EAAYH,SAASI,iBAAiB,mBACxCD,GACFA,EAAUE,QAAQ,SAACC,GAEjBA,EAAKC,gBAAgB,UAGrB,IAAMC,EAAO,aACPC,EAAQ,0BACVH,EAAKI,aAAaF,IAASF,EAAKI,aAAaF,GAAMC,MAAMA,IAC3DH,EAAKK,aAAaH,EAAMF,EAAKI,aAAaF,GAAMI,QAAQH,EAAO,OAMvEP,IACiB,IAAIW,iBAAiB,SAAUC,EAAWC,GACzDb,MAGOc,QAAQhB,SAAU,CACzBiB,YAAY,EACZC,WAAW,EACXC,SAAS,IA7Bb,GAsCQvB,EAAS,mCACTC,EAAeG,SAASoB,cAAc,OACtCtB,EAAWE,SAASqB,SAASvB,SAAW,WAAa,UACrDC,EAAcC,SAASoB,cAAc,UAC3CpB,SAASsB,KAAKC,YAAY1B,GAC1BA,EAAac,aAAa,KAA1B,WAA2Cf,GAC3CG,EAAYY,aAAa,OAAQ,mBACjCZ,EAAYY,aAAa,QAAS,QAClCZ,EAAYY,aACV,MACGb,EAFL,wCAEqDF,GAErDI,SAASsB,KAAKC,YAAYxB,GAM5B,WAEE,IAAIZ,EAAIa,SAASwB,cAAc,QAC3BC,EAAOzB,SAASoB,cAAc,QAClCK,EAAKC,KAAO,WACZD,EAAKE,IAAM,aACXF,EAAKG,KACH,qFACFH,EAAKI,YAAc,YACnB1C,EAAEoC,YAAYE,GAEd,IAAIK,EAAO9B,SAASoB,cAAc,QAClCU,EAAKJ,KAAO,WACZI,EAAKH,IAAM,aACXG,EAAKF,KACH,mEACFzC,EAAEoC,YAAYO,GAEd,IAAIC,EAAI/B,SAASoB,cAAc,UAC/BW,EAAEL,KAAO,kBACTK,EAAEC,OAAQ,EACVD,EAAEE,IAAM,kEACAjC,SAASsB,KACfC,YAAYQ,GAvBhB,GA6BA,WAGE,IAAIG,EAAWlC,SAASoB,cAAc,WAetC,SAASe,IACP,IAAMC,EAAgBpC,SAASI,iBAAiB,WAAW,GACvDiC,OAAOhB,SAASO,KAAKnB,MAAM,YACzB2B,GACFA,EAAcE,cAAcC,OAAOL,GAlBzCA,EAASM,UAAY,eACrBN,EAASO,UAAT,+lBAuBA,IAAMC,EAAW,IAAI7B,iBAAiB,SAAUC,EAAWC,GACnCf,SAASI,iBAAiB,WAAW,KAEzD+B,IACApB,EAAG4B,gBAKHC,EAAMP,OAAOhB,SAASO,KAC1BiB,YAAY,WACND,GAAOP,OAAOhB,SAASO,OACzBO,IACAS,EAAMP,OAAOhB,SAASO,OAEvB,KAEHc,EAAS1B,QAAQhB,SAAU,CACzBkB,WAAW,EACXC,SAAS,IA/Cb","file":"custom.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/**\n * Remove \"target\" attributes in Main Menu anchor links\n * forcing pages to load in current tab\n */\n(function () {\n  \"use strict\";\n  const targetNode = document.getElementById(\"some-id\");\n\n  function removeTargetAttrs() {\n    const menulinks = document.querySelectorAll(\"prm-main-menu a\");\n    if (menulinks) {\n      menulinks.forEach((link) => {\n        // kill all \"target\" attributes in the main menu\n        link.removeAttribute(\"target\");\n\n        // remove now-false Aria label\n        const attr = \"aria-label\";\n        const match = \", opens in a new window\";\n        if (link.getAttribute(attr) && link.getAttribute(attr).match(match)) {\n          link.setAttribute(attr, link.getAttribute(attr).replace(match, \"\"));\n        }\n      });\n    }\n  }\n\n  removeTargetAttrs();\n  const observer = new MutationObserver(function (mutations, me) {\n    removeTargetAttrs();\n  });\n\n  observer.observe(document, {\n    attributes: true,\n    childList: true,\n    subtree: true,\n  });\n})();\n\n/**\n * LibChat\n */\n(function () {\n  \"use strict\";\n  const chatID = \"325a3faf25b8f6445806d60e21bcc210\";\n  const chat_element = document.createElement(\"div\");\n  const protocol = document.location.protocol ? \"https://\" : \"http://\";\n  const chat_script = document.createElement(\"script\");\n  document.body.appendChild(chat_element);\n  chat_element.setAttribute(\"id\", `libchat_${chatID}`);\n  chat_script.setAttribute(\"type\", \"text/javascript\");\n  chat_script.setAttribute(\"async\", \"true\");\n  chat_script.setAttribute(\n    \"src\",\n    `${protocol}v2.libanswers.com/load_chat.php?hash=${chatID}`\n  );\n  document.body.appendChild(chat_script);\n})();\n\n/**\n * Stackmap\n */\n(function () {\n  \"use strict\";\n  var a = document.querySelector(\"head\");\n  var css1 = document.createElement(\"link\");\n  css1.type = \"text/css\";\n  css1.rel = \"Stylesheet\";\n  css1.href =\n    \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\";\n  css1.crossorigin = \"anonymous\";\n  a.appendChild(css1);\n\n  var css2 = document.createElement(\"link\");\n  css2.type = \"text/css\";\n  css2.rel = \"Stylesheet\";\n  css2.href =\n    \"https://www.stackmapintegration.com/uic-primove/StackMap.min.css\";\n  a.appendChild(css2);\n\n  var w = document.createElement(\"script\");\n  w.type = \"text/javascript\";\n  w.async = true;\n  w.src = \"https://www.stackmapintegration.com/uic-primove/StackMap.min.js\";\n  var b = document.body;\n  b.appendChild(w);\n})();\n\n/**\n * Add Browzine link on Journals search page\n */\n(function () {\n  \"use strict\";\n\n  var new_card = document.createElement(\"md-card\");\n  new_card.className = \"default-card\";\n  new_card.innerHTML = `\n      <md-card-title>\n        <md-card-title-text>\n          <span class=\"md-headline\">Browzine</span>\n        </md-card-title-text>\n      </md-card-title>\n      <md-card-content>\n        <p><a href=\"https://browzine.com/libraries/81\">Browzine</a> lets you flip through and read UIC Library-subscribed Journals, equivalent to browsing through physical Library stacks.</p>\n      </md-card-content>\n      <md-card-actions layout=\"row\" layout-align=\"end center\">\n        <h4><a class=\"md-accent md-raised\" href=\"https://browzine.com/libraries/81\">Visit Browzine</a></h4>\n      </md-card-actions>`;\n\n  function placeCard() {\n    const existing_card = document.querySelectorAll(\"md-card\")[0];\n    if (window.location.href.match(\"jsearch\")) {\n      if (existing_card) {\n        existing_card.parentElement.append(new_card);\n      }\n    }\n  }\n\n  // initial appearance on direct load\n  const observer = new MutationObserver(function (mutations, me) {\n    const existing_card = document.querySelectorAll(\"md-card\")[0];\n    if (existing_card) {\n      placeCard();\n      me.disconnect(); // stop observing\n    }\n  });\n\n  // subsequent appearances after navigation\n  let loc = window.location.href;\n  setInterval(function () {\n    if (loc != window.location.href) {\n      placeCard();\n      loc = window.location.href;\n    }\n  }, 100); // check every 100ms\n\n  observer.observe(document, {\n    childList: true,\n    subtree: true,\n  });\n})();\n"],"sourceRoot":"/source/"}